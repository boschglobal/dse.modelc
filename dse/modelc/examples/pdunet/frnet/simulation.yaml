# Copyright 2026 Robert Bosch GmbH
#
# SPDX-License-Identifier: Apache-2.0

---
kind: Stack
metadata:
  name: stack
spec:
  connection:
    transport:
      redis:
        uri: redis://localhost:6379
        timeout: 60
  models:
    - name: simbus
      model:
        name: simbus
      channels:
        - name: scalar
          expectedModelCount: 1
        - name: network
          expectedModelCount: 1
    - name: pdunet_inst
      model:
        name: FrNet
      uid: 42
      runtime:
        files:
          - data/network.yaml
      channels:
        - name: scalar
          alias: scalar_vector
        - name: network
          alias: network_vector
---
kind: SignalGroup
metadata:
  name: scalar_vector
  labels:
    channel: scalar_vector
    model: pdunet_inst
spec:
  signals:
    - signal: Alive
    - signal: AliveRx
    - signal: FOO
    - signal: BAR
---
kind: SignalGroup
metadata:
  name: network_vector
  labels:
    channel: network_vector
    model: pdunet_inst
  annotations:
    vector_type: binary
spec:
  signals:
    - signal: FlexRay_A
      annotations:
        mime_type: application/x-automotive-bus; interface=stream; type=pdu; model=flexray; schema=fbs; vcn=2, poca=5, ecu_id=5; swc_id=0
        pdunet: flexray  # selector = signal + pdunet
        channel: scalar_vector  # selector = model + channel
